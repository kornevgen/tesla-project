<template>
	<register name="x" length="64" />	<!-- регистр -->
	<register name="y" length="64" />	
	<register name="z" length="64" />		
	<constant name="c" length="16" />	<!-- константа -->	
	
	<instruction name="ADD" id="2">  <!-- очередная инструкция тестовой программы -->
		<argument name="x" />  <!-- аргумент инструкции - регистр, константа, внш.переменная -->
		<argument name="y" />
		<argument name="z" />
		<external name="v1" id="virtual" /> <!-- имена переменных, которые выносят на уровень шаблона все "ветви" этой инструкции -->
				<!-- такими переменными могут быть виртуальные адреса, физические адреса,
						результаты некоторых промежуточных вычислений -->
				<!-- каждая переменная имеет свой идентификатор внутри тестовой ситуации,
						а здесь этому идентификатору приписывается уникальный name в шаблоне -->
		<external name="p1" id="phys" /> 
		<situation>
			<or>  <!-- конструктор простейших ситуаций ("ветвей") -->
				<and>
					<branch name="overflow" />   <!-- простейшая ситуация ("ветвь") -->
					<branch name="normal" />
				</and>
				<branch name="zero" />
			</or>
			
			<access> <!-- обращение к ресурсу микропроцессора -->
			<!-- инструкция может совершить не более одного обращения к каждому ресурсу -->
			<!-- семантически должно проверяться, что
				в каждой "ветви" есть все указанные тут обращения -->
				<cache level="1" type="DATA" id="miss" />  <!-- обращение в кэш-память -->
				<cache level="2" type="DATA" id="replace" from="1"/> <!-- наполнение атрибутами зависит от архитектуры -->
				<cache level="3" type="DATA" id="hit" />
				<tlb  id="invalid" /> <!-- обращение в TLB -->
				<microtlb type="DATA" id="miss" />
			</access>
			
		</situation>
	</instruction>
	
	<assume>   <!-- "assertion" на значения регистров, констант и введенные переменные -->
		<!-- может использоваться для задания доп.ограничения на адреса разных инструкций
			 или для задания пути в графе потока управления тестовой программы (используется
			 при тестировании инструкций переходов BRANCH) -->
		<argument name="x" />  <!-- аргумент допущения -->
		<argument name="y" />
		<argument name="z" />		<or>
			<and>
				<branch name="ff1" />
				<branch name="ff2" />
				<branch name="ff3" />
			</and>
			<branch name="ff4" />
		</or>
	</assume>
</template>