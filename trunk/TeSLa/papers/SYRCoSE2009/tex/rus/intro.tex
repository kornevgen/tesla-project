\section{Введение}

Системное функциональное тестирование микропроцессоров является
хорошо зарекомендовавшей себя техникой тестирования
микропроцессоров. Оно выполняется с использованием большого числа
программ на языке ассемблера (тестовых программ). Такие программы
загружаются в память машины, запускаются, процесс их исполнения
протоколируется и затем анализируется. В результате выносится
вердикт, в каких случаях микропроцессор себя ведет некорректно
(некорректным считается поведение, отличное от того, что заявлено в
спецификации).

Системное тестирование привлекательно своей низкой стоимостью и
более ранним моментом обнаружения ошибок, т.к. его можно проводить
еще до выпуска микропроцессора на модели. Однако для проведения
системного тестирования требуется предоставить множество тестовых
программ. Причем для сложных современных процессоров таких программ
должно быть много, что делает актуальной задачу автоматической
генерации тестовых программ.

В статье~\ref{kamkin} предложена технологическая цепочка построения
тестовых программ на основе модели микропроцессора. В рамках этой
цепочки сначала тестовые программы систематически строятся в
абстрактном виде (в виде тестового шаблона) –- без конкретных
параметров инструкций. Тестовые шаблоны описывают последовательность
инструкций, параметры инструкций с указанием происходящих событий
(например, переполнение, промахи или попадания в кэш-памяти). В
качестве параметров инструкции могут быть указаны регистры и
константы. Последовательность инструкций чаще всего задана явно.
Необходимость в тестовом шаблоне обычно возникает тогда, когда
тестирование проводится нацеленным образом и эта цель выражена
последовательностью инструкций, каждая из которых должна быть
исполнена заданным образом.

Чтобы получить тестовую программу по заданному тестовому шаблону,
достаточно найти начальные значения регистров и той части кэш-памяти
и других подсистем, с которыми работают инструкции шаблона.
Добавляемые к шаблону данные называются тестовыми данными, а задача
их построения – задачей генерации тестовых данных. По тестовым
данным строится набор инструкций инициализации микропроцессора
(загрузка значений в регистры, кэш и т.д.), который добавляется в
начало тестового шаблона. Полученную таким образом тестовую
программу можно исполнить и проверить, совпадает ли поведение каждой
инструкции с тем, что было заявлено в тестовом шаблоне.

Среди известных работ по генерации тестовых данных для
микропроцессоров можно выделить следующие методы ее решения:
\begin{enumerate}
\item комбинаторные техники;
\item решение задачи ATPG;
\item разрешение ограничений.
\end{enumerate}

Однако комбинаторные техники применимы только в случае простых
шаблонов, где для тестовых данных явно указаны диапазоны значений, и
внутри это диапазона все значения равноправны. Генерация тестовых
данных через решение задачи ATPG (Automatic Test Pattern Generation)
скорее подходит не для функционального, а для структурного
тестирования микропроцессоров. Использование разрешения ограничений
представляется наиболее перспективной техникой генерации тестовых
данных.

Почти 20-летние разработки компании IBM в этой области привели к
созданию инструмента Genesys-Pro для генерации тестовых программ по
тестовых шаблонам с использованием разрешения ограничений. Однако
для шаблонов, генерируемых методом из~\ref{kamkin}, Genesys-Pro
будет работать неэффективно. А авторы других инструментов зачастую
останавливаются на тестировании лишь регистровой части
микропроцессоров. Все эти факторы делают актуальной задачу генерации
тестовых данных иным методом, но с использованием разрешения
ограничений.
