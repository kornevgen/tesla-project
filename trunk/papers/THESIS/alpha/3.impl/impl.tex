\documentclass[12pt]{article}  %10pt :(((
\usepackage[cp1251]{inputenc}
\usepackage[russian]{babel}
\usepackage{pscyr}
\usepackage{indentfirst}
\usepackage{graphicx}

\title{Программная реализация}
\author{}
\date{}

\textwidth=16cm \oddsidemargin=0cm

% все главы диссертации:
% Введение (как автореферат)
% 1. Обзор и постановка задачи (сравнение -> уточнение постановки задачи)
% 2. Теоретическая глава
% 3. Программная реализация (архитектура программного решения, гибкость)
% 4. Апробация (оценка качества на проведенных экспериментах, возможно сравнение с random?)
% 5. Заключение

\begin{document}
\maketitle

\begin{abstract}
Небольшое отступление о множествах, функциях полезности и прагматике. Уравнения с множествами (и вообще использование множеств) взялись из попытки компактного описания последовательностей кэш-промахов и кэш-попаданий (интересно, как с этой проблемой борется Genesys-Pro). Компактность удалось достичь. Была надежда, что эта компактная форма записи даст и неплохой алгоритм разрешения (с глубоким использованием особенностей операций над множествами). Однако на реальных данных формула, выписанная на множествах, получалась очень большой длины (пропорционально размеру самой кэш-памяти). К счастью, появилась иная идея описания кэш-попаданий и кэш-промахов в ограничениях -- использование функций полезности (т.е. ограничения вида <<тегсет еще не вытеснен/тегсет уже вытеснен>>). В общем случае использование функций полезности не дает выигрыша, но при совместном рассмотрении кэш-памяти и TLB, т.е. при возможности использовать пересечение хранящихся в них данных, удается выписать ограничения компактного размера с использованием функций полезности.

Таким образом, в работе представлены два новых способа записи тестовых ситуаций в кэш-памяти с использованием ограничений -- уравнения на множества тегов и уравнения с функциями полезности.
\end{abstract}

\tableofcontents

В главе описывается система генерации тестовых программ на основе тестовых шаблонов. Входными данными системы являются:
\begin{itemize}
\item тестовый шаблон;
\item описания тестовых ситуаций;
\item начальное состояние микропроцессора;
\item дополнительные параметры конфигурации.
\end{itemize}

Выходом системы является тестовая программа, удовлетворяющая тестовому шаблону с учетом данных описаний тестовых ситуаций и начального значения микропроцессора. Ядром системы является \emph{генератор ограничений} (см. рис.~\ref{structure}). Ограничения разрешаются другим компонентом системы -- \emph{решателем ограничений}. Модель, построенную решателем ограничений, анализирует \emph{генератор инструкций тестовой программы}, с целью построить готовую тестовую программу.

\begin{figure}[h] \center
  \includegraphics[width=0.5\textwidth]{structure}\\
  \caption{Структура системы генерации тестовых программ}\label{structure}
\end{figure}                                                    

На рис.~\ref{comparison_genesyspro} показано сравнение предлагаемого генератора тестовых программ с известным генератором Genesys-Pro~\cite{GenesysPro}. Оба генератора получают на вход тестовый шаблон, а на выходе у них тестовые программы. Однако Genesys-Pro на вход требует \emph{architectural model} и \emph{testing knowledge} -- первая дает по сути эталонный симулятор микропроцессора, а второй описывает эвристики выбора аргументов для инструкции. Genesys-Pro не предполагает систематического описания семантики инструкций, выделения ветвей их функциональности, описания программных контрактов инструкций. Симулятор нужен для построения модельного состояния микропроцессора после исполнения очередной сгенерированной инструкции, а эвристики выбора аргументов составляют основу тех ограничений, которые описывают значения аргументов очередной инструкции. Идея заключается в разделении описания функции, которую реализует инструкция, и ограничения на аргументы инструкции. Другой особенностью является то, что тестовые шаблоны зачастую не фиксируют последовательность инструкций (это позволяет строить более простые ограничения, потому как тестовая программа может по ходу генерации подстраиваться под уже сгенерированные инструкции со сгенерированными значениями аргументов).

\begin{figure}[h]
\parbox{0.5\textwidth}{ \centering
  \includegraphics[width=0.3\textwidth]{genesys-pro}
} \vline
\parbox{0.5\textwidth}{ \centering
  \includegraphics[width=0.3\textwidth]{mygen}
}
\caption{Сравнение с Genesys-Pro}\label{comparison_genesyspro}
\end{figure}

В отличие от Genesys-Pro в предлагаемом инструменте описание семантики инструкций задается в едином виде -- в виде описаний тестовых ситуаций. Каждая тестовая ситуация описывает не только ограничение на свои аргументы, но и результат исполнения инструкции \emph{при данном ограничении на аргументы} инструкции. В функции, которую реализует инструкция, выделяются отдельные \emph{ветви функциональности}, ситуации различного поведения инструкций, каждая ветвь функциональности становится отдельной тестовой ситуацией. Например, инструкция целочисленного сложения ADD может быть исполнена либо точно, либо с возникновением переполнения. Поэтому у этой инструкции можно выделить 2 ветви функциональности (точное исполнение и исполнение с переполнением), каждая ветвь дает свою тестовую ситуацию. Кроме того, предлагаемый генератор дает возможность указать начальное состояние микропроцессора, которое будет эффективно использовано при построении тестовой программы. Последовательность инструкций фиксирована и задается в тестовом шаблоне.

\section{Описания тестовых шаблонов и тестовых ситуаций}

Язык описания тестовых шаблонов 

единый язык для описания шаблонов и тестовых ситуаций

\section{Генератор ограничений}

Генератор ограничений может быть разделен на модуль, присутствующий всегда

Генерация ограничений производится последовательно для каждой инструкции тестового шаблона. 

\begin{figure}[h] \center
  \includegraphics[width=0.5\textwidth]{generator}\\
  \caption{Структура генератора ограничений}\label{generator}
\end{figure}


модуль, не зависящий от схем трансляции и кэш-памяти (общие механизмы описания)

модуль для ограничений, описывающих трансляцию и поведение кэш-памяти

разрешение ограничений может происходить быстрее при нужном порядке ограничений, это можно учесть

\pagebreak
\bibliographystyle{plain}
\bibliography{../thesis}

\end{document}
